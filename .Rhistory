icon('trend')
icon('policy')
icon('suit')
icon('briefcase')
source("~/budget_scenarios/ui/activityUI.R")
runApp()
icon('a')
runApp()
?updateSelectInput
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source("~/budget_scenarios/ui/sidebarUI.R")
runApp()
runApp()
View(data_final_a)
runApp()
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
select(!X)
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv')
View(data_final_a2)
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
mutate(baseline = as.numeric(baseline))
View(data_final_a2)
data_final_a2 <- read.csv('const/final_data.csv')
View(data_final_a)
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
data_final_a2 <- read.csv('const/final_data.csv')
data_final_a2 <- read.csv('const/final_data.csv')
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
data_final_a2 <- read.csv('const/final_data.csv')
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = as.numeric(baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.| 'baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.| ',baseline))
View(data_final_a2)
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',',baseline))
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.| ',baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.| ',baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.|',baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',|.',baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern=',',baseline))
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na() %>%
mutate(baseline = str_remove(pattern='.',baseline))
View(data_final_a2)
unique(data_final_a2$baseline)
data_final_a2 <- read.csv('const/final_data.csv') %>%
tidyr::drop_na()
unique(data_final_a2$baseline)
#activity growth data
data_final_a2 <- read.csv('const/final_data.csv')
#activity growth data
data_final_a <- read.csv('const/final_data.csv')
#data
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Resilience',
type = 'Other',
modelled_growth = 1,
baseline = case_when(fyear == 2018 ~ 0,
T ~ 1.8*1e9),
deflator = 1)
)
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth))
)
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018))))
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth)))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
test <- data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Policy: Recovery (10-year')
test
test <- data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Policy: Recovery (10-year)')
View(data_final_a2)
#data
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Resilience',
type = 'Other',
modelled_growth = 1,
baseline = case_when(fyear == 2018 ~ 0,
T ~ 1.8*1e9),
deflator = 1)
)
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth))
)
#activity growth data
data_final_a <- read.csv('const/final_data.csv')
#data
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Resilience',
type = 'Other',
modelled_growth = 1,
baseline = case_when(fyear == 2018 ~ 0,
T ~ 1.8*1e9),
deflator = 1)
)
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth))
)
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018))))
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth)))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
test <- data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Policy: Recovery (10-year)')
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth)))
#activity growth data
data_final_a <- read.csv('const/final_data.csv')
#data
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Resilience',
type = 'Other',
modelled_growth = 1,
baseline = case_when(fyear == 2018 ~ 0,
T ~ 1.8*1e9),
deflator = 1)
)
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth))
)
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018))))
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth)))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth)))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health')) %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
runApp()
runApp()
source("~/budget_scenarios/src/base_data.R")
#activity growth data
data_final_a <- read.csv('const/final_data.csv')
#data
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Resilience',
type = 'Other',
modelled_growth = 1,
baseline = case_when(fyear == 2018 ~ 0,
T ~ 1.8*1e9),
deflator = 1)
)
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth))
)
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Outpatients') %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018))))
#ae
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (5-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
fyear == 2030 ~ 0.931869,
fyear < 2030 & fyear > 2024 ~ 1.048,
T ~ 1.02),
modelled_growth = cumprod(modelled_growth)))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type == 'Elective') %>%
filter(models == 'Linear growth') %>%
mutate(models = 'Policy: Recovery (10-year)',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
data_final_a <- rbind(data_final_a,
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health')) %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))) %>%
mutate( modelled_growth = case_when(
fyear == 2018 ~ 1,
T ~ modelled_growth))
source("~/budget_scenarios/src/base_data.R")
runApp()
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health')) %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018))))
data_final_a %>%
filter(type %in% c('IAPT','Community','Mental Health')) %>%
filter(models == 'Morbidity') %>%
mutate(models = 'Policy: Recovery',
modelled_growth = case_when(
fyear == 2018 ~ 1,
fyear > 2018 & fyear <= 2024 ~ modelled_growth,
T ~ 1.032^(fyear-2018)))
source("~/budget_scenarios/src/base_data.R")
runApp()
runApp()
source("~/budget_scenarios/src/base_data.R")
View(data_final_a)
runApp()
runApp()
FINAL_deflator <- read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator))
FINAL_deflator <- read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator,X))
runApp()
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa')
View(data_final_a)
runApp()
runApp()
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa') %>%
mutate(deflator = deflator/100)
View(data_final_a)
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa') %>%
select(!deflator) %>%
left_join(read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator,X)))
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa') %>%
select(!deflator) %>%
left_join(read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator,X))) %>%
rename(deflator = 'index_deflator')
runApp()
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa') %>%
select(!deflator) %>%
left_join(read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator,X))) %>%
rename(deflator = 'index_deflator')
#activity growth data
data_final_a <- read.csv('const/final_data.csv') %>%
filter(measure == 'cwa') %>%
select(!deflator) %>%
left_join(read.csv('const/FINAL_deflator.csv') %>%
select(!c(deflator,X))) %>%
rename(deflator = 'index_deflator')
runApp()
runApp()
?selectInput
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
